set(CMAKE_SYSTEM_NAME Windows)
set(CMAKE_SYSTEM_PROCESSOR i686)
set(CMAKE_C_COMPILER ${CMAKE_SYSTEM_PROCESSOR}-w64-mingw32-gcc)
set(CMAKE_C_FLAGS -s)
if(CMAKE_HOST_SYSTEM_NAME STREQUAL Darwin)
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -mcrtdll=msvcrt-os")
endif()